<div class="slds-card via-slds-card--horiz via-slds-card--horiz-actions slds-m-bottom--small" data-card="{{uniqueLayoutId}}-card-{{cardIndex}}" ng-class="{selected:isSelected(cardIndex)}" data-popover-flyout="true" ng-controller="anthemQuoteCardController">
  <div class="slds-card__header via-slds-card__header slds-grid slds-p-bottom--medium slds-grid--vertical-align-center">
    <div class="slds-media slds-media--center slds-has-flexi-truncate">
      <div class="slds-media__figure">
          <vloc-card-icon data="data" obj="obj" size="'medium'"></vloc-card-icon>
      </div>
      <div class="slds-media__body slds-truncate" ng-show="{{getIsDivisionNotBlank(obj)}}">
        <a ng-href="/one/one.app#/sObject/{{obj | getter: data.fields[0]}}/view" ng-data-url="/one/one.app#/sObject/{{obj | getter: data.fields[0]}}/view" class="slds-text-link--reset" tooltip-placement="bottom" tooltip="{{obj | getter: data.fields[1]}}" ng-show="{{getIsGroupNumberNotBlank(obj)}}" target="_parent">
                <span class="slds-text-heading--small"><b>{{data.fields[1].label}}: {{obj | getter: data.fields[1]}}</b></span>
        </a>
        <span class="slds-text-heading--small" ng-show="{{!getIsGroupNumberNotBlank(obj)}}"><b>{{data.fields[1].label}}: {{obj | getter: data.fields[1]}}</b></span>
        <br/>
        <b>{{data.fields[2].label}}: {{obj | getter: data.fields[2]}}</b>
      </div>
      <div class="slds-media__body slds-truncate" ng-show="{{!getIsDivisionNotBlank(obj)}}">
        <a ng-href="/one/one.app#/sObject/{{obj | getter: data.fields[0]}}/view" ng-data-url="/one/one.app#/sObject/{{obj | getter: data.fields[0]}}/view" class="slds-text-link--reset" tooltip-placement="bottom" tooltip="{{obj | getter: data.fields[1]}}" ng-show="{{getIsGroupNumberNotBlank(obj)}}" target="_parent">
            <span class="slds-text-heading--small"><b>{{data.fields[1].label}}: {{obj | getter: data.fields[1]}}</b></span>
        </a>
        <span class="slds-text-heading--small" ng-show="{{!getIsGroupNumberNotBlank(obj)}}"><b>{{data.fields[1].label}}: {{obj | getter: data.fields[1]}}</b></span>
      </div>
      <div class="slds-media__body slds-truncate" style="right:50px;position: absolute;">
        <a ng-href="/one/one.app#/sObject/{{obj.Id}}/view" ng-data-url="/one/one.app#/sObject/{{obj.Id}}/view" class="slds-text-link--reset" target="_parent">
            <b>View Quote</b> 
        </a>
      </div>
    </div>
  </div>
  <div class="slds-small-show slds-card__body via-slds-card__body slds-grid slds-grid--vertical slds-theme--default slds-p-left--small slds-p-right--small">
    <div class="slds-col slds-col--padded slds-grid slds-wrap slds-grid--align-spread">
      <div class="slds-col--padded slds-size--1-of-3 slds-small-show slds-m-top--small slds-p-bottom--x-small via-slds-border--bottom" ng-repeat="field in data.fields.slice(4, 6)" ng-show="key != 'attributes'">
          <div class="slds-truncate" title="{{obj | getter: field}}">{{field.label}}: <b>{{obj | getter: field | picker: field.type}}</b></div>
      </div>
      <div class="slds-col--padded slds-size--1-of-3 slds-small-show slds-m-top--small slds-p-bottom--x-small via-slds-border--bottom" ng-show="key != 'attributes'">
          <div class="slds-truncate" title="{{obj | getter: data.fields[6]}}">{{data.fields[6].label}}: <b>{{converttoNumberFormat(obj, data.fields[6].label)}}</b></div>
      </div>
      <div class="slds-col--padded slds-size--1-of-3 slds-small-show slds-m-top--small slds-p-bottom--x-small via-slds-border--bottom" ng-repeat="field in data.fields.slice(7, 9)" ng-show="key != 'attributes'">
          <div class="slds-truncate" title="{{obj | getter: field}}">{{field.label}}: <b>{{obj | getter: field | picker: field.type}}</b></div>
      </div>
      <div class="slds-col--padded slds-size--1-of-3 slds-small-show slds-m-top--small slds-p-bottom--x-small via-slds-border--bottom" ng-show="key != 'attributes'">
          <div class="slds-truncate" title="{{obj | getter: data.fields[9]}}">{{data.fields[9].label}}: <b>{{converttoNumberFormat(obj, data.fields[9].label)}}</b></div>
      </div>
      <div class="slds-col--padded slds-size--1-of-3 slds-small-show slds-m-top--small slds-p-bottom--x-small via-slds-border--bottom" ng-repeat="field in data.fields.slice(10, 12)" ng-show="key != 'attributes'">
          <div class="slds-truncate" title="{{obj | getter: field}}">{{field.label}}: <b>{{obj | getter: field | picker: field.type}}</b></div>
      </div>
    </div>
    <div class="slds-col slds-col--padded slds-grid slds-wrap slds-grid--vertical-align-center slds-grid--align-spread">
      <div class="slds-col--padded slds-size--1-of-4 slds-small-show " ng-repeat="action in data.actions | limitTo: (data.limitActionLinksTo?data.limitActionLinksTo:3)" ng-show="{{getDisplayActions(obj)}}">
			<div ng-show="{{showAddProduct(obj, action.Name)}}">
				  <button class="slds-button slds-button_neutral" ng-click="performAction(action)">
					  <vloc-card-icon data="action" obj="obj" size="'small'" extra-classes="'big via-action-icon slds-icon-text-default'"></vloc-card-icon><span>{{action.displayName}}</span>
				  </button>
			</div>
      </div>
      <div class="slds-col--padded slds-m-top--medium slds-p-bottom--medium" style="float:right;">
        <button class="slds-button" ng-click="performFlyout(uniqueLayoutId + '-card-'+cardIndex)">
          <slds-button-svg-icon sprite="'utility'" icon="'chevrondown'" no-hint="true" ng-if="!isSelected(cardIndex)"></slds-button-svg-icon><span ng-if="!isSelected(cardIndex)"> View Quote Line Items</span>
          <slds-button-svg-icon sprite="'utility'" icon="'chevronup'" no-hint="true" ng-if="isSelected(cardIndex)"></slds-button-svg-icon><span ng-if="isSelected(cardIndex)"> Hide Quote Line Items</span>
        </button>
      </div>
  </div>
  </div>
</div>